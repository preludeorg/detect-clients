<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Prelude SDK</title>
  </head>
  <body>
    <script type="module">
      import * as Prelude from "/lib/main.ts";
      import * as uuid from "https://jspm.dev/uuid";

      const service = new Prelude.Service({
        host: "https://detect.prelude.org",
      });

      const credentials = await service.iam.newAccount("user_handle");

      service.setCredentials(credentials);

      const tests = await service.build.listTests();

      console.log("Tests before create", tests);

      const testId = uuid.v4();
      await service.build.createTest(testId, "This is a test");

      const tests2 = await service.build.listTests();

      console.log("Tests after create", tests2);
    </script>
  </body>
</html>
