<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Prelude SDK</title>
  </head>
  <body>
    <script type="module">
      import * as Prelude from "/lib/main.ts";
      import * as uuid from "https://jspm.dev/uuid";

      const service = new Prelude.Service({
        host: "https://detect.prelude.org",
      });

      const credentials = await service.iam.newAccount("test@example.com");

      service.setCredentials(credentials);

      const manifests = await service.build.listManifest();

      console.log("Manifests before create", manifests);

      const ttpId = uuid.v4();
      await service.build.createTTP(ttpId, "This is a test");

      const manifests2 = await service.build.listManifest();

      console.log("Manifests after create", manifests2);
    </script>
  </body>
</html>
